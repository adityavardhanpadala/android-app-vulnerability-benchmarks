android {
    compileSdkVersion 27
    buildToolsVersion "27.0.3"
    defaultConfig {
        minSdkVersion 22
        targetSdkVersion 27
    }

    flavorDimensions 'api'

    productFlavors {
        [22, 23, 24, 25, 26, 27].each { i ->
            "api$i" {
                dimension 'api'
                minSdkVersion "$i"
                targetSdkVersion "$i"
                testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
            }
        }

        "apiDIST" {
            dimension 'api'
            testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
        }
    }
}
