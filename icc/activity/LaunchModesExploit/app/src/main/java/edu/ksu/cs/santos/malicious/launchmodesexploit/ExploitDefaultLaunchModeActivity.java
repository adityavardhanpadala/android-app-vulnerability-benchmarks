package edu.ksu.cs.santos.malicious.launchmodesexploit;

import android.content.Intent;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;

public class ExploitDefaultLaunchModeActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.exploit_single_task_activity);

        Intent i= new Intent();
        i.setPackage("edu.ksu.cs.santos.benign.launchmodes");
        i.setClassName("edu.ksu.cs.santos.benign.launchmodes","edu.ksu.cs.santos.benign.launchmodes.DefaultLauncModeActivity");
        /*
         The Android documentation seems to have a discrepancy.
         FLAG_ACTIVITY_NEW_TASK produces the
         same behavior as "singleTask" launchmode. However,
         when starting DefaultLauncModeActivity with this
         flag set doesn't produce the same behavior. This is because
         DefaultLauncModeActivity has launchMode = "standard"
         which overrides FLAG_ACTIVITY_NEW_TASK.
          */
        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(i);
    }
}
