# Summary
Apps that ignore SSL errors in WebView are vulnerable to MITM attacks.   

# Android versions affected
Tested on Android 4.2 - Android 7.1

# Description of vulnerability and corresponding exploit
An Android app can display web pages by loading HTML/JavaScript files in a *WebView*. A WebView loading
an HTML/JavaScript file from a server using SSL/TLS can throw an SSL exception if an incorrect
certificate is presented by the server or if the app does not trust the Certificate Authority that has
signed the certificate for that server.


*Issue:* Android provides the *WebViewClient* API to manage communication between the app and the server.
One of the methods in the API *onReceivedSslError()* allows an app to cancel or proceed with response from
the server when an SSL error occurs. If the app chooses to proceed with the response then the app is
vulnerable to MITM attacks because a malicious server can create a fake certificate and still communicate
with the app.

*Example:* An example of such a vulnerability is shown in *ExploitSSLWarningOnWebView/Benign*. The app
connects to a server over TLS that produces a certificate that is incorrect. The app ignores this error
and proceeds as shown in the *onReceivedSslError()* of the *MyWebViewClient.java* class.


# Steps to build the sample apps and re-produce the exploit

1. list targets:

    $ android list targets

2. available Android Virtual Devices:

    $ android list avd

3.  create an emulator:

    $ android create avd -n <name> -t <target>

4.  start emulator:

    $ emulator -avd <avd_name>

5. build and install *Benign*:

    $ cd Benign

    Make sure there is a file called local.properties with an entry sdk=/path/to/Android/sdk. Build will fail without this.

    $ ./gradlew installDebug
